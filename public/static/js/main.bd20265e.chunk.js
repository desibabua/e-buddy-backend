(this["webpackJsonpe-buddy-frontend"]=this["webpackJsonpe-buddy-frontend"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/e-buddy-logo.422a57a8.svg"},23:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),u=a(4),o=a(1),i=a(3),s=a(10),m=a.n(s),d=a(12),E=function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return(a=e.sent).ok||console.log(a),e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a||{})},e.next=3,fetch(t,n);case 3:return(r=e.sent).ok||console.log(r),e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v={home:function(){return E("/api/home")},getProducts:function(e){return E("/api/products/".concat(e))},getProduct:function(e){return E("/api/product/".concat(e))},searchProducts:function(e){return E("/api/search?input=".concat(e))},getProductReviews:function(e){return E("/api/review/".concat(e))},addReview:function(e){return p("/api/addReview",e)}},f=v,b=(a(29),function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!0),o=Object(i.a)(u,2),s=o[0],m=o[1];return Object(n.useEffect)((function(){f.home().then((function(e){l(e),m(!1)}))}),[]),s?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,c.title),r.a.createElement("p",null,c.content))}),h=function(e){var t=e.beforePrice,a=e.savingsPercent;return r.a.createElement("div",{className:"discounted"},r.a.createElement("div",{className:"original"},"\u20b9 ",t),r.a.createElement("div",{className:"dis-percent"},a,"%"))},g=function(e){var t=e.price,a=t.discounted,n=t.currentPrice;return r.a.createElement("div",{className:"price"},r.a.createElement("div",{className:"current"},"\u20b9 ",n),a?r.a.createElement(h,t):r.a.createElement(r.a.Fragment,null))},N=function(e){var t=e.product,a=t.id,n=t.title,c=t.imgUrl,l=t.price;return r.a.createElement("div",{className:"product-card"},r.a.createElement("div",{className:"img-holder"},r.a.createElement("img",{src:c,alt:"Loading..."})),r.a.createElement(u.b,{exact:!0,to:"/product/".concat(a)},r.a.createElement("div",{className:"title"},"".concat(n.slice(0,25),"..."))),r.a.createElement(g,{price:l}))},j=function(e){return e.map((function(e){return r.a.createElement(N,{key:e.id,product:e})}))},O=function(){var e=Object(o.i)().category,t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){f.getProducts(e).then(l)}),[e]),c?r.a.createElement("div",null,r.a.createElement("div",{className:"products"},j(c))):r.a.createElement("p",null,"Loading...")},w=function(e){var t=e.rating;e.reviews;return r.a.createElement("div",{className:"ratings"},r.a.createElement("div",{className:"rating"},"Rating : ",t))},x=a(20),S=a.n(x),y=function(e){var t=e.placeholder,a=e.onSubmit,c=Object(n.useState)(""),l=Object(i.a)(c,2),u=l[0],o=l[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u&&(a(u),o(""))}},r.a.createElement("input",{type:"text",placeholder:t,value:u,onChange:function(e){o(e.target.value)}}),r.a.createElement("button",null,"Submit"))},P=r.a.createContext(),k=function(e){var t,a=e.owner,n=e.review,c=e.timeStamp;return r.a.createElement("div",{className:"review"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"owner"},a),r.a.createElement("div",{className:"time"},(t=c,new S.a(t).fromNow()))),r.a.createElement("div",{className:"content"},n))},C=function(e){var t=e.id,a=Object(n.useContext)(P).user,c=Object(n.useState)(null),l=Object(i.a)(c,2),u=l[0],o=l[1];Object(n.useEffect)((function(){f.getProductReviews(t).then(o)}),[]);return u?r.a.createElement("div",{className:"reviews"},r.a.createElement("div",{className:"title"},"Reviews",r.a.createElement("span",{className:"count"},"\xa0\xa0(",u.length,")")),a&&r.a.createElement(y,{placeholder:"Your review",onSubmit:function(e){f.addReview({owner:a.name,productId:t,review:e}).then(o)}}),r.a.createElement("div",{className:"container"},function(e){return e.map((function(e){return r.a.createElement(k,Object.assign({key:e.id},e))}))}(u))):r.a.createElement("p",null,"Loading...")},L=function(){var e=Object(o.i)().id,t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1];if(Object(n.useEffect)((function(){f.getProduct(e).then(l)}),[e]),!c)return r.a.createElement("p",null,"Loading...");var u=c.title,s=c.imgUrl,m=c.price,d=c.rating;return r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"img-holder"},r.a.createElement("img",{src:s,alt:"product-img"})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},u),r.a.createElement(g,{price:m}),r.a.createElement(w,{rating:d}))),r.a.createElement(C,{id:e}))},R=function(){var e=new URLSearchParams(Object(o.h)().search).get("input"),t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){f.searchProducts(e).then(l)}),[e]),c?r.a.createElement("div",null,r.a.createElement("div",{className:"products"},j(c))):r.a.createElement("p",null,"Loading...")},U=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(o.a,{to:"/products/all"})),r.a.createElement(o.b,{exact:!0,path:"/home",children:r.a.createElement(b,null)}),r.a.createElement(o.b,{exact:!0,path:"/products/:category",children:r.a.createElement(O,null)}),r.a.createElement(o.b,{exact:!0,path:"/search",children:r.a.createElement(R,null)}),r.a.createElement(o.b,{exact:!0,path:"/product/:id",children:r.a.createElement(L,null)}))},D=a(21),B=a.n(D),J=function(){return r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{src:B.a,alt:"e-buddy-logo",className:"logo"}),r.a.createElement("p",null,"E-BUDDY"))},I=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],u=Object(o.g)();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t="/products/all";c&&(t="/search?input=".concat(c),l("")),u.push(t)}},r.a.createElement("input",{type:"text",placeholder:"Search",value:c,onChange:function(e){l(e.target.value)}}))},M=function(e){return r.a.createElement("div",{className:"search-bar"},r.a.createElement(I,null))},T=a(22);a.n(T).a.config();var Y=function(e){var t=e.url,a=e.name;return r.a.createElement(u.b,{exact:!0,to:t,activeClassName:"active-nav",className:"nav"},a)},A=function(){var e="/api/login",t="Login";return Object(n.useContext)(P).user&&(e="/api/logout",t="Logout"),r.a.createElement("a",{className:"nav",href:e},t)},F=function(e){return r.a.createElement("div",{className:"navigation-bar"},r.a.createElement(Y,{name:"Home",url:"/home"}),r.a.createElement(Y,{name:"Products",url:"/products/all"}),r.a.createElement(A,null))},H=function(e){var t=e.url,a=e.name;return r.a.createElement(u.b,{exact:!0,to:t,activeClassName:"active-product-nav",className:"product-nav"},a)},W=function(){return r.a.createElement("div",{className:"product-nav-bar"},r.a.createElement(H,{name:"All",url:"/products/all"}),r.a.createElement(H,{name:"Clothes",url:"/products/clothes"}),r.a.createElement(H,{name:"Men",url:"/products/men"}),r.a.createElement(H,{name:"Women",url:"/products/women"}),r.a.createElement(H,{name:"Electronics",url:"/products/electronics"}),r.a.createElement(H,{name:"Phones",url:"/products/phone"}),r.a.createElement(H,{name:"Sports",url:"/products/sports"}),r.a.createElement(H,{name:"Books",url:"/products/books"}))},q=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(J,null),r.a.createElement(M,null),r.a.createElement(F,null)),r.a.createElement(W,null))},z=(a(38),a(39),a(40),a(41),a(42),a(43),function(){var e=Object(o.g)(),t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){E("/api/getUser").then((function(e){return e.name&&c(e)}))}),[e]),r}),G=function(){var e=z();return r.a.createElement(P.Provider,{value:{user:e}},r.a.createElement(u.a,null,r.a.createElement(q,null),r.a.createElement(U,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.bd20265e.chunk.js.map